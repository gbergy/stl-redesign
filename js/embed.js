!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){!function(d){function e(a){throw new RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,".");var e=a.split("."),g=f(e,b).join(".");return d+g}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)p=a[i],128>p&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)p=a[i],p>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c&&!c.nodeType&&c,r="object"==typeof b&&b&&!b.nodeType&&b,s="object"==typeof a&&a;(s.global===s||s.window===s||s.self===s)&&(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.3.2",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&r)if(b.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],3:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],4:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":2,"./encode":3}],5:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:1,querystring:4}],6:[function(a,b,c){var d;d=function(){function b(a,b,d){var e;this.w=a,this.d=b,this._el=d,this.utils=new c(this.w,this.d),this._el&&((e=this.constructor)._embeds||(e._embeds=[]),this.constructor._embeds.push(this))}var c,d,e;return c=a("./utils.coffee"),e=a("url"),d=/squareup(?:staging)\.com/,b.prototype.determineDomain=function(a){var b,c,d,f;try{if(d=e.parse(a),f=d.host.toLowerCase(),f.indexOf("squareup.com")>-1||f.indexOf("squareupstaging.com")>-1)return d.host;if("mkt.com"===f)return"squareup.com"}catch(c){return b=c,"squareup.com"}},b.prototype.isEmbeddable=function(a){throw"must implement"},b.prototype.determineEmbeddingDomainFromLink=function(){return this.determineDomain(this._el.href)},b.prototype.generateUrlFromLink=function(a,b,c){var d,f,g;try{return g=e.parse(this._el.href),"mkt.com"===g.host.toLowerCase()&&(g.host="squareup.com"),null!=a&&(g.pathname=a),null!=b&&(g.search=b),null!=c&&(g.hash=c),g.format()}catch(f){return d=f,this.determineEmbeddingDomainFromLink()+a}},b.embeddingClass="must implement",b.transformAll=function(a,b){var c,d,e,f,g,h,i;for(h=b.querySelectorAll("."+this.embeddingClass),i=0,e=0,f=h.length;f>e;e++){g=h[e];try{i+=this.transform(a,b,g)}catch(d){c=d,console.warn("embed transform error",c)}}return i},b.transform=function(a,b,c){return this.isEmbeddable(c)?(new this(a,b,c),1):0},b.isValidOrigin=function(){},b}(),b.exports=d},{"./utils.coffee":11,url:5}],7:[function(a,b,c){var d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;d=a("./base-embed.coffee"),e=function(a){function b(a,c,d){var e,f,g,h,i,j,k,l,m,n;this.w=a,this.d=c,b.__super__.constructor.call(this,this.w,this.d,d),d&&(l=this._el.parentNode,i=this.d.createDocumentFragment(),this._marketLink=this.utils.make("a"),k=this.utils.extractMerchantSlug(this._el.href),this._marketLink.textContent=this._el.textContent,g=this._el.href.match(/\?/)?"&":"?",this._marketLink.href=""+this._el.href+g+"square_lead=button",this.utils.append(i,this._marketLink),h=this.utils.readDataStyle(this._el,"data-style-"),this._marketLink.setAttribute("style",""),f=this.utils.mergeStyle(b.config.linkStyles,h),f["line-height"]=parseInt(f.height,10)+1+"px",this.utils.style(this._marketLink,f),j=this.utils.supportRetina()?"https://cdn.sq-api.com/embeds/images/sq-jewel-44x44.png":"https://cdn.sq-api.com/embeds/images/sq-jewel-22x22.png",this.utils.style(this._marketLink,{"background-image":"url('"+j+"')"}),n=this._el.getBoundingClientRect().width,l.insertBefore(i,this._el),l.removeChild(this._el),e=this._marketLink.offsetWidth-92,m=n>e,m&&(this._marketLink.style.backgroundPosition="50% -100%",this._marketLink.style.padding="0 12px"),this._marketLink.addEventListener("mouseover",function(){return this.style.opacity=.8,m?(this.style.color="transparent",this.style.backgroundPositionY="50%"):void 0}),this._marketLink.addEventListener("mouseout",function(){return this.style.opacity=1,m?(this.style.color="white",this.style.backgroundPositionY="-100%"):void 0}))}return f(b,a),b.config={validHref:/^(https?:\/\/(?:mkt\.com|[^\/]*squareup(?:staging(?:external)?)?\.com.*\/(?:market|sites|embeds)))\/(.*)$/,linkStyles:{"background-size":"22px auto","font-family":"'SQMarket-regular', 'Helvetica Neue',sans-serif","text-decoration":"none",height:"46px",position:"relative","background-color":"#22a301","background-repeat":"no-repeat","background-position":"12px 50%",top:"0",left:"0",width:"260px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box",display:"block",color:"white",padding:"0 46px",overflow:"hidden","text-overflow":"ellipsis","min-width":"46px","font-size":"15px","border-radius":"5px","text-align":"center","box-sizing":"border-box","-webkit-transition":"opacity .3s ease","white-space":"nowrap",transition:"opacity .3s ease"}},b.embeddingClass="sq-embed-button",b.isEmbeddable=function(a){return a&&a.href&&b.config.validHref.test(a.href)},b}(d),b.exports=e},{"./base-embed.coffee":6}],8:[function(a,b,c){var d,e;e=e||window,d=d||document,function(b){var c,e,f,g,h;if(this.Utils=a("./utils.coffee"),this.ItemEmbed=a("./item-embed.coffee"),this.ButtonEmbed=a("./button-embed.coffee"),b.MenuEmbed=a("./menu-embed.coffee"),this.dd=b.document||d,this.finished=!1,this.intervalId=null,e=function(a){return function(b,c){var d;if(!a.finished)return b=a||b||window,c=b.document||c,new a.Utils(b,c).installFontFace(),d=a.ButtonEmbed.transformAll(b,c),d+=a.ItemEmbed.transformAll(b,c),d+=b.MenuEmbed.transformAll(b,c)}}(this),h=function(a){return function(b,c){var d,f;clearInterval(a.intervalId);try{return e(b,c)}catch(f){return d=f,a.finished=!0}}}(this),g=function(a){return function(a,b){var c,d;try{return setTimeout(h,10,a,b)}catch(d){return c=d,!1}}}(this),!b.sq||!b.sq.embed){b.addEventListener?(b.addEventListener("load",h,!1),b.addEventListener("DOMContentLoaded",g,!1)):b.attachEvent&&b.attachEvent("onload",h),b.sq=b.sq||{},b.sq.embed=e;try{e(b,this.dd)}catch(f){c=f}return this.intervalId=setInterval(e,150,b,this.dd)}}(e)},{"./button-embed.coffee":7,"./item-embed.coffee":9,"./menu-embed.coffee":10,"./utils.coffee":11}],9:[function(a,b,c){var d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;d=a("./base-embed.coffee"),e=function(a){function b(a,c,d){var e,f;this.w=a,this.d=c,b.__super__.constructor.call(this,this.w,this.d,d),d&&(this.parent=this._el.parentNode,this.frag=this.d.createDocumentFragment(),this.outer=this.utils.make("div"),this.inner=this.utils.make("div"),this.iframe=this.utils.make("iframe"),this.utils.style(this.outer,b.config.outerStyles),this.utils.style(this.inner,b.config.innerStyles),this.utils.style(this.iframe,b.config.iframeStyles),this.utils.setAttrs(this.iframe,b.config.iframeAttrs),f=this.utils.extractMerchantSlug(this._el.href),e=this.utils.extractItemSlug(this._el.href),this.iframe.src=this.generateUrlFromLink("/embeds/merchandiser","merchant_id="+f+"&focus_item_id="+e+"&square_lead=item_embed"),this.utils.append(this.inner,this.iframe),this.utils.append(this.outer,this.inner),this.utils.append(this.frag,this.outer),this.parent.insertBefore(this.frag,this._el),this.parent.removeChild(this._el))}return f(b,a),b.config={validClass:"sq-embed-item",validHref:/^(https?:\/\/(?:mkt\.com|[^\/]*squareup(?:staging(?:external)?)?\.com.*\/(?:market|sites|embeds)))\/(.*)\/(.*)$/,outerStyles:{"-moz-box-sizing":"border-box","box-sizing":"border-box","font-size":"14px","font-family":"'Helvetica Neue',sans-serif","max-height":"631px","min-width":"200px",overflow:"hidden"},innerStyles:{"-moz-box-sizing":"border-box","box-sizing":"border-box",height:"0",overflow:"hidden","padding-bottom":"100%","padding-top":"88px",position:"relative"},iframeStyles:{height:"100%",position:"absolute",top:"0",left:"0",width:"100%"},iframeAttrs:{frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no"}},b.embeddingClass="sq-embed-item",b.isEmbeddable=function(a){return a&&a.href&&b.config.validHref.test(a.href)},b}(d),b.exports=e},{"./base-embed.coffee":6}],10:[function(a,b,c){var d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;d=a("./base-embed.coffee"),e=function(b){function c(a,b,d){var e,f,g,h;this.w=a,this.d=b,c.__super__.constructor.call(this,this.w,this.d,d),d&&(this._embedOptions=this.utils.readDataStyle(this._el,"data-menu-"),this._iframe=this.utils.make("iframe"),e=this.d.createDocumentFragment(),g=this.utils.make("div"),f=this.utils.make("div"),this.utils.append(f,this._iframe),this.utils.append(g,f),this.utils.append(e,g),this.utils.style(g,c.config.outerStyles),this.utils.style(f,c.config.innerStyles),this.utils.style(this._iframe,c.config.iframeStyles),this.utils.setAttrs(this._iframe,c.config.iframeAttrs),this.adjustWidthForIos(),h=this.utils.extractMerchantSlug(this._el.href),this._iframe.src=this.generateUrlFromLink("/embeds/merchandiser","merchant_id="+h+"&"+this._compileOptions(this._embedOptions)+"&square_lead=menu_embed"),this._el.parentNode.insertBefore(e,this._el),this._el.parentNode.removeChild(this._el),this.transformCart("left"===this._embedOptions.tab,this._embedOptions["accent-color"]||"83b3b3"))}return f(c,b),c.config={validHref:/^(https?:\/\/(?:mkt[.]com|[^\/]*squareup(?:staging(?:external)?)?[.]com.*\/(?:market|sites|embeds)))\/(.*)$/,outerStyles:{"-moz-box-sizing":"border-box","box-sizing":"border-box","font-size":"14px","font-family":"'Helvetica Neue',sans-serif","line-height":"0","min-width":"200px"},innerStyles:{"-moz-box-sizing":"border-box","box-sizing":"border-box",position:"relative"},placeholderStyles:{position:"absolute",width:"100%"},iframeStyles:{"border-radius":"3px","min-height":"350px",width:"100%"},explodedIframeStyles:{bottom:"0",height:"100vh",left:"0","min-height":"",position:"fixed",right:"0",top:"0","z-index":"2147483647"},collapsedIframeStyles:{bottom:"",height:"",left:"",position:"",right:"",top:"","z-index":""},iframeAttrs:{frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no","class":"sq-embed-menu-iframe"},cart:{outerStyles:{"background-color":"white",cursor:"pointer","margin-top":"-24px",position:"fixed",right:"0",top:"50%","z-index":"2147483646","-webkit-transform":"translateX(0)",transform:"translateX(0)","-webkit-transition":"-webkit-transform .3s ease",transition:"transform .3s ease"},innerStyles:{"box-sizing":"border-box",color:"white",display:"table",height:"48px",opacity:"1",padding:"10px 0 16px","table-layout":"fixed","text-decoration":"none",width:"59px","-webkit-transition":"opacity .2s ease",transition:"opacity .2s ease"},iconStyles:{"background-repeat":"no-repeat","background-position":"center","background-size":"23px auto",display:"table-cell",height:"21px","padding-left":"13px"},quantityStyles:{display:"none","font-family":"SQMarket-light, 'Helvetica Neue', sans-serif","font-size":"12px","font-style":"italic","font-weight":"300","letter-spacing":"2px","line-height":"14px","text-indent":"-9px",margin:"0","vertical-align":"bottom",width:"10px","-webkit-font-smoothing":"auto"}}},c.embeddingClass="sq-embed-menu",c.isEmbeddable=function(a){return a&&a.href&&c.config.validHref.test(a.href)},c._addedEventListenerForMessage=!1,c.transformAll=function(a,b){var d;return d=c.__super__.constructor.transformAll.apply(this,arguments),this._addedEventListenerForMessage||(this._addedEventListenerForMessage=!0,a.addEventListener("message",function(a){return function(){return a._acceptMessageFromIframe.apply(a,arguments)}}(this),!1)),d},c.prototype.goToDiscoCheckout=function(a){return this.utils.redirectTo("https://"+this.determineEmbeddingDomainFromLink()+"/market/shop/cart?merchant_slug="+a+"&square_lead=menu_embed")},c._getSourceEmbed=function(a){var b,c;for(c=0;c<this._embeds.length;){if(b=this._embeds[c],b._iframe.contentWindow===a.source)return b;c++}},c.prototype.isValidOrigin=function(a){return a.origin==="https://"+this.determineEmbeddingDomainFromLink()},c._acceptMessageFromIframe=function(a){var b;if(b=this._getSourceEmbed(a),b&&b.isValidOrigin(a))switch(a.data.actionType){case"redirect":return this.utils.redirectTo(this.generateUrlFromLink("","",""+a.data.redirectUrl));case"adjustHeight":return b.adjustHeight(a.data.adjustedHeight);case"createIframePlaceholder":return b.createIframePlaceholder();case"updateIframePlaceholder":return b.updateIframePlaceholder();case"resetIframePlaceholder":return b.resetIframePlaceholder();case"destroyIframePlaceholder":return b.destroyIframePlaceholder();case"expandIframe":return b.expandIframe();case"collapseIframe":return b.collapseIframe();case"updateCartTab":return b.updateCartTab(a.data.numItems);case"checkout":return b.goToDiscoCheckout(a.data.merchantSlug)}},c.prototype.transformCart=function(a,b){var d,e,f,g,h;try{if(h=this.w.location.href.match(/^(https?:\/\/.*squareup(staging)?.com\/dashboard)\/(.*)$/),h&&h.length>0)return}catch(e){d=e,console.info(d)}return f=this.d.createDocumentFragment(),this._cartTabQuantity=this.utils.make("span"),g=this.utils.make("i"),this._cartTabContainer=this.utils.make("div"),this._cartTab=this.utils.make("a"),this._cartTab.href="#",this._cartTab.textContent="",this.utils.append(this._cartTab,g),this.utils.append(this._cartTab,this._cartTabQuantity),this.utils.append(this._cartTabContainer,this._cartTab),this.utils.append(f,this._cartTabContainer),this.utils.style(this._cartTabQuantity,c.config.cart.quantityStyles),this.utils.style(g,c.config.cart.iconStyles),this.utils.style(this._cartTabContainer,c.config.cart.outerStyles),this.utils.style(this._cartTab,c.config.cart.innerStyles),this.utils.style(this._cartTab,{"background-color":"#"+b}),this.printCartIcon(g),this._cartTab.addEventListener("mouseover",function(){return this.style.opacity=".8"}),this._cartTab.addEventListener("mouseout",function(){return this.style.opacity="1"}),this._cartTab.addEventListener("click",function(a){return function(b){return b.preventDefault(),a._iframe.contentWindow.postMessage({actionType:"showcart",redirectUrl:a.w.location.toString()},"*")}}(this)),this.d.body.appendChild(f)},c.prototype._compileOptions=function(b){var c,d,e,f,g;f=a("url"),d={"accent-color":"color",border:"border",price:"price","item-descriptions":"description","item-images":"image",template:"template",theme:"theme"},e={};for(c in b)g=b[c],null!=c&&null!=g&&null!=d[c]&&(e[""+d[c]]=""+g);return f.format({query:e}).slice(1)},c.prototype.printCartIcon=function(a){var b;return b=this.utils.supportRetina()?"https://cdn.sq-api.com/embeds/images/sprites/2x/directory/basket-default.png":"https://cdn.sq-api.com/embeds/images/sprites/1x/directory/basket-default.png",this.utils.style(a,{"background-image":"url('"+b+"')"})},c.prototype.adjustHeight=function(a){return this.utils.style(this._iframe,{height:a-10+"px","min-height":""})},c.prototype.createIframePlaceholder=function(){return this._placeholder||(this._placeholder=this.utils.make("div"),this.utils.insertBefore(this._iframe.parentNode,this._placeholder,this._iframe),this.utils.style(this._placeholder,c.config.placeholderStyles),this.utils.style(this._placeholder,{height:this._iframe.style.height})),this.updateIframePlaceholder(this._placeholder)},c.prototype.updateIframePlaceholder=function(){var a;return a=this._placeholder.getBoundingClientRect(),this._iframe.contentWindow.postMessage({actionType:"updateMenu",dimensions:{height:a.height,top:Math.round(a.top),left:Math.round(a.left),width:Math.round(a.width)}},"*")},c.prototype.resetIframePlaceholder=function(){return this._iframe.contentWindow.postMessage({actionType:"updateMenu"},"*")},c.prototype.destroyIframePlaceholder=function(){return this._placeholder?(this.utils.reqAnimationFrame(this.utils.remove(this._iframe.parentNode,this._placeholder)),this._placeholder=null):void 0},c.prototype.expandIframe=function(){var a,b;return b=this.d.documentElement,a=this.d.body,this.hideCartTab(),"100vh"!==this._iframe.style.height&&(this._savedIframeStyles={height:this._iframe.style.height}),this.utils.style(this._iframe,c.config.explodedIframeStyles),this.adjustHeightForIos(),this._htmlStyle=b.style,this._bodyStyle=a.style,""===!b.getAttribute("data-overflow")&&this._htmlStyle&&b.setAttribute("data-overflow",this._htmlStyle.overflow),""===!a.getAttribute("data-height")&&null!=this._bodyStyle&&a.setAttribute("data-height",this._bodyStyle.height),""===!a.getAttribute("data-overflow")&&null!=this._bodyStyle&&a.setAttribute("data-overflow",this._bodyStyle.overflow),this.utils.style(this._placeholder,{position:"relative"}),this.utils.style(b,{overflow:"visible !important"}),this.utils.style(a,{height:"100%"}),setTimeout(function(b){return function(){return b.utils.style(a,{overflow:"hidden"}),b._iframeDimensions=b._iframe.getBoundingClientRect(),b._iframeDimensions.top<0?b.utils.style(b._iframe,{top:-1*b._iframeDimensions.top+"px"}):void 0}}(this),1)},c.prototype.collapseIframe=function(){var a,b,d;return b=this.d.documentElement,a=this.d.body,this.showCartTab(),this.utils.style(this._iframe,c.config.collapsedIframeStyles),this.utils.style(this._iframe,this._savedIframeStyles),this.utils.style(a,{height:a.getAttribute("data-height")||"",overflow:a.getAttribute("data-overflow")||""}),d=b.getAttribute("data-overflow"),(null==d||""===d)&&(d="auto"),this.utils.style(b,{overflow:d},!0)},c.prototype.updateCartTab=function(a){return this._cartTabQuantity.textContent=""+a,a>0?(this._cartTabQuantity.style.display="table-cell",a>5?this._cartTabQuantity.textContent="5+":void 0):this._cartTabQuantity.style.display="none"},c.prototype.adjustHeightForIos=function(){return this._iframe&&navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?(this._iframe.style.height="0px",this._iframe.style.minHeight="100%"):void 0},c.prototype.adjustWidthForIos=function(){return this._iframe&&navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?(this._iframe.style.width="0px",this._iframe.style.minWidth="100%"):void 0},c.prototype.hideCartTab=function(){return this._cartTabContainer.style.webkitTransform="translateX(100%)",this._cartTabContainer.style.transform="translateX(100%)"},c.prototype.showCartTab=function(){return this._cartTabContainer.style.webkitTransform="translateX(0)",this._cartTabContainer.style.transform="translateX(0)"},c.hideCartTabs=function(){var a,b,c,d,e;for(d=this._embeds,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.hideCartTab());return e},c.showCartTabs=function(){var a,b,c,d,e;for(d=this._embeds,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.showCartTab());return e},c}(d),b.exports=e},{"./base-embed.coffee":6,url:5}],11:[function(a,b,c){var d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=function(){function a(a,b){this.w=a,this.d=b}return a.prototype.make=function(a){return this.d.createElement(a)},a.prototype.append=function(a,b){return a.appendChild(b)},a.prototype.remove=function(a,b){return a.removeChild(b)},a.prototype.insertBefore=function(a,b,c){return a.insertBefore(b,c)},a.prototype.reqAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(function(){return a}):a},a.prototype.style=function(a,b,c){var d,e,f,g;null==c&&(c=!1),f=[];for(e in b)g=b[e],d=null,b[e].indexOf("!important")>=0&&(g=g.substr(0,g.indexOf(" !")).trim(),d="important"),c&&(d="important"),f.push(a.style.setProperty(e,g,d));return f},a.prototype.readDataStyle=function(a,b){var c,d,e,f;for(e={},d=0;d<a.attributes.length;)c=a.attributes[d],0===c.name.indexOf(b)&&(f=c.name.substring(b.length,c.name.length),e[f]=c.value),d++;return e},a.prototype.setAttrs=function(a,b){var c,d;d=[];for(c in b)d.push(a.setAttribute(c,b[c]));return d},a.prototype.supportRetina=function(){var a;try{return a="screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 144dpi), screen and (min-resolution: 1.5dppx)",this.w.matchMedia&&this.w.matchMedia(a).matches||e.call(this.w,"devicePixelRatio")>=0&&this.w.devicePixelRatio>1.5}catch(b){return console.log("Could not determine retina support."),!1}},a.prototype.extractMerchantSlugOld=function(a){var b,c;return null!=(b=a.match(/^https?:\/\/(?:mkt\.com|(?:squareup(?:staging(?:external)?)?)\.com[^\/]*\/(?:market|sites|store))\/([^\/&?#]+).*/))&&null!=(c=b.slice(-1))?c.pop():void 0},a.prototype.extractMerchantSlugNew=function(a){var b,c;return null!=(b=a.match(/^https?:\/\/(?:mkt.com|(?:squareup(?:staging(?:external)?)?)\.com[^\/]*\/embeds)\/.*[?]merchant_id=([^#&]+).*/))&&null!=(c=b.slice(-1))?c.pop():void 0},a.prototype.extractMerchantSlug=function(a){return this.extractMerchantSlugNew(a)||this.extractMerchantSlugOld(a)},a.prototype.extractItemSlugOld=function(a){var b,c;
return null!=(b=a.match(/^https?:\/\/(?:mkt\.com|(?:squareup(?:staging(?:external)?)?)\.com[^\/]*\/(?:market|sites|store))\/[^\/&?#]+\/([^\/&?#]+).*/))&&null!=(c=b.slice(-1))?c.pop():void 0},a.prototype.extractItemSlugNew=function(a){var b,c;return null!=(b=a.match(/^https?:\/\/(?:mkt\.com|(?:squareup(?:staging(?:external)?)?)\.com[^\/]*\/embeds)\/.*[&]focus_item_id=([^#&]+).*/))&&null!=(c=b.slice(-1))?c.pop():void 0},a.prototype.extractItemSlug=function(a){return this.extractItemSlugNew(a)||this.extractItemSlugOld(a)},a.prototype.mergeStyle=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},a.prototype.redirectTo=function(a){return this.w.top===window?this.w.location=a:this.w.open(a)},a.prototype.installFontFace=function(){var a;return a=this.make("style"),a.type="text/css",a.textContent='@font-face {\n  font-family: \'SQMarket-regular\';\n  src:url("https://cdn.sq-api.com/embeds/fonts/sqmarket-regular.eot");\n  src:url("https://cdn.sq-api.com/embeds/fonts/sqmarket-regular.eot?#iefix") format("eot"),\n  url("https://cdn.sq-api.com/embeds/fonts/sqmarket-regular.woff") format("woff"),\n  url("https://cdn.sq-api.com/embeds/fonts/sqmarket-regular.ttf") format("truetype");\n  font-weight:400;font-style:normal;\n}\n@font-face {\n  font-family: \'SQMarket-light\';\n  src:url("https://cdn.sq-api.com/embeds/fonts/sqmarket-light.eot");\n  src:url("https://cdn.sq-api.com/embeds/fonts/sqmarket-light.eot?#iefix") format("eot"),\n  url("https://cdn.sq-api.com/embeds/fonts/sqmarket-light.woff") format("woff"),\n  url("https://cdn.sq-api.com/embeds/fonts/sqmarket-light.ttf") format("truetype");\n  font-weight:300;font-style:normal;\n}',this.d.querySelectorAll("head")[0].appendChild(a)},a}(),b.exports=d},{}]},{},[8]);
//# sourceMappingURL=embeds.js.map